<div class="movie-form">
  <h2>Create Movie</h2>

  <form #movieForm="ngForm" (ngSubmit)="createMovie()">
    <div>
      <label for="name">Movie Name:</label>
      <input type="text" id="name" [(ngModel)]="movie.name" name="name" required />
    </div>

    <div>
      <label for="genre">Genre:</label>
      <input type="text" id="genre" [(ngModel)]="movie.genre" name="genre" required />
    </div>

    <div>
      <label for="year">Year:</label>
      <input type="number" id="year" [(ngModel)]="movie.year" name="year" required />
    </div>

    <div>
      <label for="director_f_name">Director First Name:</label>
      <input type="text" id="director_f_name" [(ngModel)]="movie.director.f_name" name="director_f_name" required />
    </div>

    <div>
      <label for="director_l_name">Director Last Name:</label>
      <input type="text" id="director_l_name" [(ngModel)]="movie.director.l_name" name="director_l_name" required />
    </div>

    <div *ngFor="let actor of movie.actor; let i = index" class="actor-section">
      <h3>Actor {{ i + 1 }}</h3>
      <div>
        <label>First Name:</label>
        <input type="text" [(ngModel)]="actor.f_name" name="actor_f_name_{{ i }}" required />
      </div>
      <div>
        <label>Last Name:</label>
        <input type="text" [(ngModel)]="actor.l_name" name="actor_l_name_{{ i }}" required />
      </div>
      <div>
        <label>Birth Year:</label>
        <input type="number" [(ngModel)]="actor.b_year" name="actor_b_year_{{ i }}" required />
      </div>

      <button type="button" (click)="removeActor(i)">Remove this actor</button>

    </div>
      <button type="button" (click)="addActor()">Add new actor</button>


    <div>
      <label>Select Actors:</label>
      <select [(ngModel)]="selectedActors" name="selectedActors" multiple>
        <option *ngFor="let actor of movie.actor; let i = index" [value]="actor">
          {{ actor.f_name }} {{ actor.l_name }}
        </option>
      </select>
    </div>

    <div>
      <label for="jsonType">Select JSON Type:</label>
      <select id="jsonType" [(ngModel)]="jsonType" name="jsonType" required>
        <option *ngFor="let jsonType of jsonTypes" [value]="jsonType.value">
          {{ jsonType.label }}
        </option>
      </select>
    </div>


    <div>
      <button type="submit" [disabled]="movieForm.invalid">Create Movie</button>
    </div>
  </form>
</div>
